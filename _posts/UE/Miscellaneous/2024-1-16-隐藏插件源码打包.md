---
layout: post
title: "隐藏源码编译打包项目"
date: 2024-1-16 09:00:00 +0800 
categories: UE
tag: Misc
---
* content
{:toc #markdown-toc}

在处理含有大量图形的项目时，你有可能会遇到GPU崩溃。下面方法能够很好地遏制基于渲染的GPU崩溃。

<!-- more -->

> 参考：[UE4 插件隐藏源码并成功编译打包项目](https://blog.csdn.net/xialuhui/article/details/113569437)
>
> [UE4插件研发 So Easy](https://blog.csdn.net/jxyb2012/article/details/88839224?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control)

# UE 插件隐藏源码编译打包项目

​    客户突然提出需求需要我们提供自主研发插件，但公司又不希望客户能看到我们的源码，研究了好几天，参考了多为大佬的文章，但大佬们的文章并没有详细的说明隐藏源码编译打包项目功能的具体操作，这里把我实现这一功能发具体操作分享出来。

## 1.创建插件

​       创建一个空白模板的插件，写好功能后编译一下。

## 2.打包插件

打包插件之间需要在插件的`.uplugin`做一些配置，确保`PlatformAllowList`（UE4是`WhitelistPlatforms`）是“Win64”（因为你使用Windows打包），Type是“Runtime”。

```javascript
"Modules": [
    {
        "Name": "AAA",
        "Type": "Runtime",
        "LoadingPhase": "PreLoadingScreen",
        "PlatformAllowList": [
            "Win64"
        ]
    }
]
```

回到项目中，点击打包即可，等待几分钟，打包成功。

![](D:\WindCrazyGithubio\windcrazy123.github.io\styles\images\Miscellaneous\隐藏源码\PackagePlugin.png)

## 3.隐藏插件源码

将打包好的插件文件夹（在Build目录）替换原插件文件夹；

并将Source目录下的Private的文件夹删除；

在插件`.build.cs`文件中添加代码`bUsePrecompiled = true;`将是否使用预编译设为true，在编译的时候就不会再编译插件；

*如果之后打包失败，可再添加一句`PrecompileForTargets = PrecompileTargetsType.None;`*

```cpp
public MyFirstPlugin(ReadOnlyTargetRules Target) : base(Target)
{
    PCHUsage = ModuleRules.PCHUsageMode.UseExplicitOrSharedPCHs;

    bUsePrecompiled = true;
    PrecompileForTargets = PrecompileTargetsType.None;
}
```

​      右键Generate一下，编译C++代码，打开项目打包成功，并运行，发现功能OK，隐藏插件源代码功能完成。